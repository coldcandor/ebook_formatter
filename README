eBookFormatter version 1.5.5
----------------------------
By Eric Shields

WARNING!
--------

This is a free-time project I am pursuing in addition to full time work (or classes, depending on the time of year).  As such I do not have time to preform exahustive testing of each release.  Do not expect perfect preformance!  Some rare file setups may result in a worse formatting than the origional.  BE SURE TO BACKUP YOUR FILE(S) BEFORE USING THIS SOFTWARE, AS IT IS IMPOSSIBLE TO UNDO ANY CHANGES!

That said, if used properly, the program should not overwrite the origional file, but I have to protect myself from stupid people now don't I?  Right, on to the real information!

What is eBookFormatter?
-----------------------

eBookFormatter is a program dedicated to the task of fixing those pesky formatting issues present in a great deal of online text documents, eBooks in text or RTF format, files converted from PDFs, and OCR (Optical Character Recognition, a popular method of retrieving text from PDF and image files) created documents, as well as anything similar in form.

eBookFormatter will allow you to convert RTF to plain text for editing (if you don't have an RTF editor, or just like plain text better), and provide many features related to the resulting text.  Perhaps you used an OCR on a PDF document, and the result was a text file with a line terminator (a newline, carriage return, or both) at the end of every line, preventing you from using formats like justification.  eBookFormatter will strip them away, leaving the text only terminated at the end of each paragraph.

eBookFormatter also includes a sophisticated method of detecting paragraphs, which is approximately 95% accurate in typical text documents, the ability to correct common errors produced by OCR, and much more.

Features
--------

* Sophisticated paragraph detection algorithm - Creates easy to follow paragraph
  setup:  A single blank line seperates paragraphs and the first line of each is 
  indented.
* Correction of simple OCR related mistakes
  - erratic ellipses (...), including the replacing the single-character version 
    with three periods
  - Sentence spacing issues
* Seperation of dialog segments based on quote locations
* Removal of extraneous blank lines
* Detection of numerated lists
* Removal of inter-paragraph newlines to allow for easy formatting (like 
  justification)
* Removal of RTF formatting, resulting in plain text version
* Switch-based command line interface for easy option choosing
* Modulaized features, allowing you complete control over what formatting is
  preformed
* Many more to come!!

Installing eBookFormatter
-------------------------

eBookFormatter is written in PHP 5.  As such, it can be run on any platform (operating system and hardware independant), but it requires that you have PHP 5 or higher installed on your PC.  The installation is simple:  Visit www.php.net/downloads.php, select the appropriate file, and follow the installation instructions.  

The windows zip package need only be unzipped and the directory containing php.exe added to the PATH environment variable (START  -> right click My Computer -> Properties -> Advanced -> Environment Variables -> select Path and click edit -> type a semicolon followed by the directory path containing php.exe).  Note:  Adding to the PATH variable is not required but will allow you to run a php program from anywhere on the PC by typing PHP <file to run>.  The above method is only garunteed for Windows XP Professional.  For other windows systems, consult the (really really bad) user guide for the location of the PATH variable.  IF YOU DO NOT FEEL COMFORTABLE EDITING WINDOWS SETTINGS, DO NOT ALTER YOUR PATH VARIABLE!  Simply use full directory paths when running php.  For example, from the directory containing php.exe type: PHP <full directory path of the file to run>.

Using eBookFormatter
--------------------

eBookFormatter is a command-line based program.

--- Usage ---  

php eBookFormatter.php -i <inputFile> [-o <outputFile>] [-f <firstFunction>[,<secondFunction>[,<thirdFunction>[,<...>]]]] [-v]

--- Command line switch descriptions ---

-i <inputFile>     // Designate the input file or path
[-o <outputFile>]  // Designate the output file or path
[-f <firstFunction[,secondFunction[,thirdFunction[,...]]]>] // Function(s) to 
         preform.  PREFORMED IN THE ORDER LISTED!
[-v] // Do not append formatter ID at top of file
[-h] // If 100 is specified as one of the functions, this tells the program
        to output the results in HTML format.  If function 100 is not present, 
        this flag is ignored.

--- NOTES ---

If there are any spaces in your directory path, MAKE SURE TO SURROUND IT WITH QUOTES!  Otherwise it will be interpreted as seperate arguments and the results will be completely unpredictable (it depends on what the arguements end up being).

If the output switch is not present, the result will be printed to STDOUT.

Any arguements that do not have an associated switch will be ignored.

The values for function are currently 1 - 6.  

All functions (except 2) assume that the file is in Plain Text format.

--- Function Descriptions ---

Function 1: Seperates the file into paragraphs, based on proper writing techniques.  This removes all origional line terminators.

Function 2: Attempts to remove all RTF formatting in a file.  Still in it's alpha stages, this function may result in some loss of data due to the methods certain programs use to add the formatting.  The loss of data should be minimal (part of a line in uncommon conditions).

Function 3: Corrects many issues with ellipses, such as extra spaces or extra periods, converting them all into ...

Function 4: Converts all instances of more than 2 spaces to 1 space and searches for places where it should be returned to 2 spaces.  Checks for extra spaces between punctuation marks and quotes. (For example . " would be converted to .")

Function 5: Splits conversations that occur in one paragraph into seperate paragraphs in cases where an ending quote is followed immediately by an opening quote.  (For example ..."  "...)

Function 6: Attempts to locate all instances of a single quote (') that are not part of a contraction, and replace them with double quotes (").  This function is only partially finished.

Function 100: Run the testSuite.  This will preform a series of tests, compare the results to expected results, and output a summary in either text or html format, based on whether the -h switch is active.

Support
-------

This is freeware.  As such, I am not in any way required to support the software.  However, bug reports, suggestions, and comments are welcome.  If I am able to do so, I will make additions, improvements, and fixes as time goes on.  Please make these reports using the appropriate interface on sourceforge.  If this is not possible, then please email me.  See the end ofthis file for contact information.

Uninstalling eBookFormatter
---------------------------

As no installation is required, no uninstallation is required.  Simply delete the folder containing the eBookFormatter files. (Or just delete the files related to eBookFormatter).  

If you added the PHP folder to your windows PATH variable, you may wish to remove it now.  If so, follow the steps listed under Installing eBookFormatter and remove the semicolon and directory path you added above.

Lisence Agreement
-----------------

This software is released under the GNU GPL (General Public Lisence) and is free to use, modify, and distribute so long as a complete copy of the lisence agreement is provided with the software.  See COPYING.txt for the full GPL.

Donations
---------

To donate to this or any other of my projects, send a paypal payment to cold_candor@hotmail.com

All donations will be put towards removing obticles preventing me from furthering my projects, i.e. having to work for food :P

Contact Information
-------------------

cold_candor@hotmail.com
https://sourceforge.net/projects/ebookformat


Copyright 2005 Eric Shields